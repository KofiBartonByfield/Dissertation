file = "Figures/Regression Tables/nb_vs_fenb_table.tex",
gof = c("AIC", "BIC", "LogLik"))
texreg(
list(negbin_model, fe_negbin_model),
model.names = c("Negative Binomial", "Fixed Effects NB"),
stars = c(0.05, 0.01, 0.001),
caption = "Model Comparison",
file = "Figures/Regression Tables/nb_vs_fenb_table.tex",
digits = 3,
float.pos = "htbp"
)
texreg(
list(negbin_model, fe_negbin_model),
model.names = c("Negative Binomial", "Fixed Effects NB"),
stars = c(0.05, 0.01, 0.001),
caption = "Model Comparison",
file = "Figures/Regression Tables/nb_vs_fenb_table.tex",
custom.gof.names = c("Log Likelihood", "AIC", "BIC"),
digits = 3,
float.pos = "htbp"
)
texreg(
list(negbin_model, fe_negbin_model),
model.names = c("Negative Binomial", "Fixed Effects NB"),
stars = c(0.05, 0.01, 0.001),
caption = "Model Comparison",
file = "Figures/Regression Tables/nb_vs_fenb_table.tex",
custom.gof.names = c("AIC", "BIC"),
digits = 3,
float.pos = "htbp"
)
texreg(
list(negbin_model, fe_negbin_model),
model.names = c("Negative Binomial", "Fixed Effects NB"),
stars = c(0.05, 0.01, 0.001),
caption = "Model Comparison",
file = "Figures/Regression Tables/nb_vs_fenb_table.tex",
override.gof = list(
c(logLik(negbin_model), AIC(negbin_model), BIC(negbin_model)),
c(logLik(fe_negbin_model), AIC(fe_negbin_model), BIC(fe_negbin_model))
),
override.gof.names = c("Log Likelihood", "AIC", "BIC"),
digits = 3,
float.pos = "htbp"
)
extract(negbin_model)
extract(fe_negbin_model)
texreg(
list(negbin_model, fe_negbin_model),
model.names = c("Negative Binomial", "Fixed Effects NB"),
stars = c(0.05, 0.01, 0.001),
caption = "Model Comparison",
file = "Figures/Regression Tables/nb_vs_fenb_table.tex",
custom.gof.names = c("AIC", "BIC", "Log Likelihood", "Deviance", "Observations"),
digits = 3,
float.pos = "htbp"
)
screenreg(list(negbin_model, fe_negbin_model))
screenreg(list(negbin_model, fe_negbin_model))
negbin_extracted <- extract(negbin_model)
fe_negbin_extracted <- extract(fe_negbin_model)
# Trim or pad to match GOF length
negbin_extracted@gof <- negbin_extracted@gof[1:3]
fe_negbin_extracted@gof <- fe_negbin_extracted@gof[1:3]
# Then run
texreg(
list(negbin_extracted, fe_negbin_extracted),
model.names = c("Negative Binomial", "Fixed Effects NB"),
custom.gof.names = c("AIC", "BIC", "Log Likelihood"),
digits = 3,
caption = "Model Comparison",
file = "Figures/Regression Tables/nb_vs_fenb_table.tex"
)
stargazer(negbin_model)
stargazer(negbin_model, type='text')
stargazer(fe_negbin_model, type='text')
stargazer(fe_negbin_model, type='text')
glm.nb(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
negbin_model
summary(negbin_model)
fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
summary(poisson_model)
summary(negbin_model)
stargazer(poisson_model, negbin_model,
type='text')
# check for multicolineararity
vif(poisson_model)
# negative binomial
negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
# fe negative binomial
fe_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z | Borough,
data = london)
summary(negbin_model)
summary(fe_negbin_model)
logLik(negbin_model)
logLik(fe_negbin_model)
AIC(negbin_model)
AIC(fe_negbin_model)
AIC(negbin_model, fe_negbin_model)
xtable::xtable(negbin_model, fe_negbin_model)
stargazer(negbin_model, fe_negbin_model)
etable(negbin_model, fe_negbin_model)
etable(negbin_model, fe_negbin_model, tex = TRUE, file = "Figures/Regression Tables/nb_vs_fenb_table.tex")
etable(negbin_model, fe_negbin_model)
etable(negbin_model, fe_negbin_model, tex = TRUE, file = "Figures/Regression Tables/nb_vs_fenb_table.tex")
etable(negbin_model, fe_negbin_model, tex = TRUE, file = "Figures/Regression Tables/nb_vs_fenb_table.tex")
etable(negbin_model, fe_negbin_model)
# poisson model
poisson_model <- glm(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data =merseyside,
family = poisson)
# negative binomial
negbin_model <- glm.nb(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data =merseyside)
summary(poisson_model)
summary(negbin_model)
stargazer(poisson_model, negbin_model,
type='text')
# check for multicolineararity
vif(poisson_model)
vif(negbin_model)
anova(poisson_model, negbin_model, test = "Chisq")
# negative binomial
negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data =merseyside)
# fe negative binomial
fe_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z | Borough,
data =merseyside)
summary(fe_negbin_model)
logLik(negbin_model)
logLik(fe_negbin_model)
AIC(negbin_model, fe_negbin_model)
etable(negbin_model, fe_negbin_model)
# negative binomial
london_negbin_model <- glm.nb(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
stargazer(london_poisson_model, london_negbin_model,
type='text')
# negative binomial
london_negbin_model <- glm.nb(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
# poisson model
london_poisson_model <- glm(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london,
family = poisson)
# negative binomial
london_negbin_model <- glm.nb(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
summary(london_poisson_model)
summary(negbin_model)
stargazer(london_poisson_model, london_negbin_model,
type='text')
anova(poisson_model, negbin_model, test = "Chisq")
anova(london_poisson_model, london_negbin_model, test = "Chisq")
etable(negbin_model, fe_negbin_model)
AIC(london_negbin_model, london_fe_negbin_model)
# negative binomial
london_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
# fe negative binomial
london_fe_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z | Borough,
data = london)
summary(london_fe_negbin_model)
logLik(london_negbin_model)
logLik(london_fe_negbin_model)
AIC(london_negbin_model, london_fe_negbin_model)
etable(negbin_model, fe_negbin_model)
# poisson model
merseyside_poisson_model <- glm(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london,
family = poisson)
# poisson model
merseyside_poisson_model <- glm(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = merseyside,
family = poisson)
# negative binomial
merseyside_negbin_model <- glm.nb(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = merseyside)
summary(merseyside_poisson_model)
summary(merseyside_negbin_model)
summary(merseyside_poisson_model)
summary(merseyside_negbin_model)
stargazer(merseyside_poisson_model, merseyside_negbin_model,
type='text')
# check for multicolineararity
vif(london_poisson_model)
vif(london_negbin_model)
# check for multicolineararity
vif(merseyside_poisson_model)
vif(merseyside_negbin_model)
anova(london_poisson_model, london_negbin_model, test = "Chisq")
anova(merseyside_poisson_model, merseyside_negbin_model, test = "Chisq")
# negative binomial
merseyside_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = merseyside)
View(london)
# fe negative binomial
merseyside_fe_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z | Borough,
data = merseyside)
summary(merseyside_fe_negbin_model)
logLik(merseyside_negbin_model)
logLik(merseyside_fe_negbin_model)
AIC(merseyside_negbin_model, merseyside_fe_negbin_model)
etable(merseyside_negbin_model, merseyside_fe_negbin_model)
etable(negbin_model, fe_negbin_model, tex = TRUE, file = "Figures/Regression Tables/merseyside_nb_vs_fenb_table.tex")
etable(negbin_model, fe_negbin_model, tex = TRUE, file = "Figures/Regression Tables/london_nb_vs_fenb_table.tex")
etable(merseyside_negbin_model, merseyside_fe_negbin_model)
anova(merseyside_poisson_model, merseyside_negbin_model, test = "Chisq")
# negative binomial
merseyside_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = merseyside)
# fe negative binomial
merseyside_fe_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z | Borough,
data = merseyside)
summary(merseyside_fe_negbin_model)
logLik(merseyside_negbin_model)
logLik(merseyside_fe_negbin_model)
AIC(merseyside_negbin_model, merseyside_fe_negbin_model)
etable(merseyside_negbin_model, merseyside_fe_negbin_model)
stargazer(london_poisson_model, london_negbin_model,
type='text')
# poisson model
london_poisson_model <- glm(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london,
family = poisson)
# negative binomial
london_negbin_model <- glm.nb(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
summary(london_poisson_model)
summary(london_negbin_model)
stargazer(london_poisson_model, london_negbin_model,
type='text')
anova(london_poisson_model, london_negbin_model, test = "Chisq")
stargazer(london_poisson_model, london_negbin_model,
type='text')
etable(london_negbin_model, london_fe_negbin_model)
# negative binomial
london_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
# fe negative binomial
london_fe_negbin_model <- fenegbin(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z | Borough,
data = london)
etable(london_negbin_model, london_fe_negbin_model)
stargazer(etable(london_negbin_model, london_fe_negbin_model), type='text')
stargazer((london_negbin_model, london_fe_negbin_model), type='text')
stargazer(london_negbin_model, london_fe_negbin_model, type='text')
etable(merseyside_negbin_model, merseyside_fe_negbin_model)
etable(negbin_model, fe_negbin_model,
tex = TRUE,
file = "Figures/Regression Tables/merseyside_nb_vs_fenb_table.tex",
custom.coef.names = c("Intercept", "Income Domain Score", "Mean House Price",
"Crime Sum", "BAME", "Drug Crime Sum"),
custom.model.names = c("Negative Binomial", "Fixed Effects Negative Binomial"),
stars = c(0.05, 0.01, 0.001),
add.lines = list(c("Observations", "4994", "4994"),
c("Pseudo R2", "0.049", "0.058")),
float.pos = "htbp")
etable(negbin_model, fe_negbin_model,
tex = TRUE,
file = "Figures/Regression Tables/merseyside_nb_vs_fenb_table.tex",
# custom.coef.names = c("Intercept", "Income Domain Score", "Mean House Price",
#                       "Crime Sum", "BAME", "Drug Crime Sum"),
custom.model.names = c("Negative Binomial", "Fixed Effects Negative Binomial"),
stars = c(0.05, 0.01, 0.001),
add.lines = list(c("Observations", "4994", "4994"),
c("Pseudo R2", "0.049", "0.058")),
float.pos = "htbp")
library(texreg)
texreg(
list(negbin_model, fe_negbin_model),
model.names = c("Negative Binomial", "Fixed Effects NB"),
stars = c(0.05, 0.01, 0.001),
caption = "Merseyside Model Comparison",
file = "Figures/Regression Tables/merseyside_nb_vs_fenb_table.tex",
custom.gof.names = c("AIC", "BIC", "Log Likelihood", "Deviance", "Observations"),
digits = 3,
float.pos = "htbp"
)
etable(negbin_model, fe_negbin_model,
tex = TRUE,
file = "Figures/Regression Tables/merseyside_nb_vs_fenb_table.tex",
stars = c(0.05, 0.01, 0.001),
add.lines = list(c("Observations", "4994", "4994"),
c("Pseudo R2", "0.049", "0.058")),
float.pos = "htbp")
etable(negbin_model, fe_negbin_model,
tex = TRUE,
file = "Figures/Regression Tables/merseyside_nb_vs_fenb_table.tex",
stars = c(0.05, 0.01, 0.001),
add.lines = list(c("Observations", "4994", "4994"),
c("Pseudo R2", "0.049", "0.058")),
float.pos = "htbp")
library(texreg)
texreg(
list(negbin_model, fe_negbin_model),
model.names = c("Negative Binomial", "Fixed Effects NB"),
stars = c(0.05, 0.01, 0.001),
caption = "Merseyside Model Comparison",
file = "Figures/Regression Tables/merseyside_nb_vs_fenb_table.tex",
digits = 3,
float.pos = "htbp"
)
# poisson model
london_poisson_model <- glm(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london,
family = poisson)
# negative binomial
london_negbin_model <- glm.nb(StopCount ~ IncomeDomainScore_z +
MeanHousePrice_z +
CrimeSum_z +
BAME_z +
DrugCrimeSum_z,
data = london)
# Extract values
aic_poisson <- AIC(london_poisson_model)
aic_negbin <- AIC(london_negbin_model)
loglik_poisson <- logLik(london_poisson_model)
loglik_negbin <- logLik(london_negbin_model)
# View them
aic_poisson; loglik_poisson
aic_negbin; loglik_negbin
library(knitr)
# Extract values
aic_poisson <- AIC(london_poisson_model)
aic_negbin <- AIC(london_negbin_model)
loglik_poisson <- as.numeric(logLik(london_poisson_model))
loglik_negbin <- as.numeric(logLik(london_negbin_model))
# Create a data frame
comparison_table <- data.frame(
Metric = c("AIC", "Log Likelihood"),
`Poisson Model` = c(round(aic_poisson, 2), round(loglik_poisson, 2)),
`Negative Binomial Model` = c(round(aic_negbin, 2), round(loglik_negbin, 2))
)
# Print LaTeX table
kable(
comparison_table,
format = "latex",
booktabs = TRUE,
caption = "Model Fit Comparison: Poisson vs Negative Binomial (London)",
label = "tab:model_comparison_london"
)
# Print LaTeX table
tab <- kable(
comparison_table,
format = "latex",
booktabs = TRUE,
caption = "Model Fit Comparison: Poisson vs Negative Binomial (London)",
label = "tab:model_comparison_london"
)
tab
latex_table <- kable(tab, format = "latex", booktabs = TRUE, caption = "Model Fit Comparison: Poisson vs Negative Binomial (London)")
# Save to file
writeLines(latex_table, "Figures/Regression_Tables/model_comparison_london.tex")
# Save to file
writeLines(latex_table, "Figures/Regression Tables/model_comparison_london.tex")
# Extract values
aic_poisson <- AIC(merseyside_poisson_model)
aic_negbin <- AIC(merseyside_negbin_model)
loglik_poisson <- as.numeric(logLik(merseyside_poisson_model))
loglik_negbin <- as.numeric(logLik(merseyside_negbin_model))
# Create a data frame
comparison_table <- data.frame(
Metric = c("AIC", "Log Likelihood"),
`Poisson Model` = c(round(aic_poisson, 2), round(loglik_poisson, 2)),
`Negative Binomial Model` = c(round(aic_negbin, 2), round(loglik_negbin, 2))
)
latex_table <- kable(tab, format = "latex", booktabs = TRUE, caption = "Model Fit Comparison: Poisson vs Negative Binomial (London)")
# Save to file
writeLines(latex_table, "Figures/Regression Tables/model_comparison_merseyside.tex")
tab
# Save to file
writeLines(tab, "Figures/Regression Tables/model_comparison_merseyside.tex")
# Extract values
aic_poisson <- AIC(london_poisson_model)
aic_negbin <- AIC(london_negbin_model)
loglik_poisson <- as.numeric(logLik(london_poisson_model))
loglik_negbin <- as.numeric(logLik(london_negbin_model))
# Create a data frame
comparison_table <- data.frame(
Metric = c("AIC", "Log Likelihood"),
`Poisson Model` = c(round(aic_poisson, 2), round(loglik_poisson, 2)),
`Negative Binomial Model` = c(round(aic_negbin, 2), round(loglik_negbin, 2))
)
# Print LaTeX table
tab <- kable(
comparison_table,
format = "latex",
booktabs = TRUE,
caption = "Model Fit Comparison: Poisson vs Negative Binomial (London)",
label = "tab:model_comparison_london"
)
# Save to file
writeLines(tab, "Figures/Regression Tables/model_comparison_london.tex")
